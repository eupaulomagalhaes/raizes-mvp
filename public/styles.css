:root{
  --color-primary:#234c38;
  --color-primary-600:#1d3f2f;
  --color-secondary:#f0a500;
  --color-accent:#ff6b6b;
  --bg-primary:#f6fff9;
  --bg-secondary:#e9f7f0;
  --text-primary:#1b2b21;
  --text-secondary:#3a5144;
  --success:#2bb673;
  --error:#e63946;
  --card:#ffffff;
  --alternate:#f5faf7;
}

*{box-sizing:border-box}
html,body{height:100%;}
body{font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;}
.screen{min-height:100svh; min-height:100vh; display:flex; flex-direction:column; justify-content:flex-end}
.screen-center{min-height:100svh; min-height:100vh; display:grid; place-items:center}
.h1,.h2,.h3{font-family:Montserrat, Inter, system-ui, sans-serif;}
.h1{font-size:2rem; font-weight:800}
.h2{font-size:1.5rem; font-weight:700}
.h3{font-size:1.125rem; font-weight:600}

.container{max-width:960px}

.card{background:var(--card); border-radius:1.25rem; box-shadow:var(--shadow, 0 10px 20px rgba(0,0,0,.06));}
.card-border{border:1px solid rgba(0,0,0,.06)}

.btn{display:inline-flex; align-items:center; justify-content:center; gap:.5rem; border-radius:1rem; padding:.75rem 1rem; font-weight:600; transition:.2s box-shadow,.2s transform}
.btn:focus{outline:3px solid rgba(35,76,56,.35); outline-offset:2px}
.btn[data-variant="primary"]{background:var(--color-primary); color:white}
.btn[data-variant="primary"]:hover{filter:brightness(.95)}
.btn[data-variant="secondary"]{background:var(--color-secondary); color:#1b2b21}
.btn[data-variant="ghost"]{background:transparent; color:var(--color-primary); border:1px solid rgba(0,0,0,.1)}

.input, .select{width:100%; border:1px solid rgba(0,0,0,.12); border-radius:1rem; padding:.75rem 1rem; background:white}
.input:focus, .select:focus{outline:3px solid rgba(35,76,56,.35);}
.label{font-weight:600; color:var(--text-secondary)}

.progress{width:100%; height:12px; background:var(--alternate); border-radius:999px; overflow:hidden}
.progress > .bar{height:100%; background:linear-gradient(90deg, var(--color-primary), var(--color-secondary)); width:0%; transition:width .08s linear}
/* Fluid auto animation for progress */
.progress.auto > .bar{animation: progress-fill 3s linear forwards}
@keyframes progress-fill{from{width:0%} to{width:100%}}

.mascot-bubble{position:fixed; bottom:1rem; right:1rem; display:flex; gap:.75rem; align-items:flex-end; z-index:50}
.mascot-bubble .bubble{background:white; border-radius:1rem; padding:.75rem 1rem; box-shadow:0 10px 20px rgba(0,0,0,.08); max-width:280px}
.mascot-bubble .avatar{width:56px; height:56px; border-radius:999px; background:#dff3e8; display:flex; align-items:center; justify-content:center; border:2px solid var(--color-primary)}

.skip-link{position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden}
.skip-link:focus{left:1rem; top:1rem; width:auto; height:auto; padding:.5rem 1rem; background:white; border-radius:.5rem}

.grid-game{display:grid; gap:.5rem}
.grid-game .cell{aspect-ratio:1/1; border-radius:.75rem; background:white; border:2px solid rgba(0,0,0,.06); display:flex; align-items:center; justify-content:center; cursor:pointer; font-weight:700; background-size:70% auto; background-repeat:no-repeat; background-position:center}
.grid-game .cell:focus{outline:3px solid rgba(35,76,56,.35)}
.grid-game .cell.correct{border-color:var(--success); box-shadow:0 0 0 3px rgba(43,182,115,.25) inset}
.grid-game .cell.wrong{border-color:var(--error); box-shadow:0 0 0 3px rgba(230,57,70,.25) inset}

/* Brand badge for welcome/login */
.brand-badge{background:white; border-radius:1.25rem; padding:1rem 1.25rem; box-shadow:0 16px 32px rgba(0,0,0,.08); display:inline-block; text-align:center;}
.brand-badge .brand-title{font-family:Montserrat, Inter, system-ui, sans-serif; font-weight:800; font-size:1.75rem; color:var(--color-primary)}
.brand-badge .brand-sub{letter-spacing:.08em; font-weight:700; color:#2d4a3b}

/* Form panel rounded like designs */
.form-panel{background:white; border-radius:1.25rem; padding:1.25rem; box-shadow:0 16px 32px rgba(0,0,0,.08);}

/* Login redesign */
.login-screen{min-height:100svh; min-height:100vh; display:flex; justify-content:center; align-items:center; padding:2rem 1.5rem; position:relative; overflow:hidden;}
.login-content{width:100%; max-width:420px; display:flex; flex-direction:column; gap:1.5rem; align-items:center; text-align:center;}
.login-greeting{font-family:Montserrat, Inter, system-ui, sans-serif; font-size:1.25rem; font-weight:700; letter-spacing:.04em; color:#1f3328; text-transform:uppercase; text-shadow:0 4px 12px rgba(0,0,0,.18);}
.login-card{width:100%; background:rgba(255,255,255,.95); border-radius:2.5rem; padding:2rem 1.75rem 2.25rem; box-shadow:0 28px 56px rgba(0,0,0,.22); display:flex; flex-direction:column; gap:1.75rem;}
.login-card-brand{display:flex; flex-direction:column; gap:.15rem; align-items:center; color:#234c38;}
.login-brand-main{font-family:Montserrat, Inter, system-ui, sans-serif; font-weight:800; font-size:2.25rem; letter-spacing:.02em;}
.login-brand-sub{font-weight:700; letter-spacing:.28em; font-size:.95rem; color:#2d4a3b;}
.login-form{display:flex; flex-direction:column; gap:1.15rem; text-align:left;}
.login-field{display:flex; flex-direction:column; gap:.5rem;}
.login-label{font-weight:700; font-size:.95rem; color:#324c3d;}
.login-input{width:100%; border:none; border-radius:1.5rem; padding:.9rem 1.1rem; font-size:1rem; font-weight:600; background:#edf4f0; color:#1b2b21; box-shadow:inset 0 2px 6px rgba(0,0,0,.1); transition:.2s box-shadow,.2s transform;}
.login-input:focus{outline:3px solid rgba(35,76,56,.35); box-shadow:0 0 0 4px rgba(35,76,56,.1);}
.login-input:-webkit-autofill,
.login-input:-webkit-autofill:hover,
.login-input:-webkit-autofill:focus,
.login-input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 1000px #edf4f0 inset !important; box-shadow:0 0 0 1000px #edf4f0 inset !important; -webkit-text-fill-color:#1b2b21;}
.login-password-wrapper{position:relative; display:flex; align-items:center;}
.login-password-toggle{position:absolute; right:.85rem; background:transparent; border:none; font-size:1.35rem; cursor:pointer; line-height:1; color:#234c38; padding:.2rem; display:inline-flex; align-items:center; justify-content:center;}
.login-password-toggle:focus-visible{outline:2px solid rgba(35,76,56,.45); border-radius:50%;}
.login-help{font-size:.85rem; color:#3a5144; text-align:left; margin-top:.25rem;}
.login-submit{margin-top:.5rem; width:100%; border:none; border-radius:999px; padding:1rem 1.25rem; font-weight:800; font-size:1.05rem; background:#234c38; color:white; box-shadow:0 22px 44px rgba(0,0,0,.25); cursor:pointer; transition:.2s transform,.2s filter;}
.login-submit:hover{transform:translateY(-1px); filter:brightness(1.03);}
.login-submit:focus-visible{outline:3px solid rgba(255,255,255,.6); outline-offset:3px;}
.login-footer{display:flex; flex-direction:column; gap:1.5rem; align-items:center;}
.login-mascot-area{display:flex; align-items:center; gap:1rem;}
.login-mascot{width:110px; height:auto; filter:drop-shadow(0 18px 32px rgba(0,0,0,.25));}
.login-speech{font-weight:700; color:#234c38;}
.login-signup{font-size:.95rem; font-weight:600; color:#1f3328;}
.login-signup a{color:#234c38; text-decoration:underline;}
.login-mascot-area .login-speech{position:relative;}
.login-mascot-area .login-speech:after{content:""; position:absolute; left:-14px; top:46%; transform:translateY(-50%); width:0; height:0; border-top:10px solid transparent; border-bottom:10px solid transparent; border-right:14px solid white;}

@media (min-width:520px){
  .login-content{max-width:460px;}
  .login-card{padding:2.25rem 2.25rem 2.5rem;}
  .login-brand-main{font-size:2.45rem;}
  .login-mascot{width:126px;}
}

/* Games screen */
.games-screen{min-height:100svh; min-height:100vh; display:flex; justify-content:center; align-items:center; padding:2rem 1.5rem; background:url('https://vjeizqpzzfgdxbhetfdc.supabase.co/storage/v1/object/public/images/nuvens_background.gif') center/cover no-repeat;}
.games-wrapper{width:100%; max-width:420px; background:rgba(255,255,255,.94); border-radius:2.25rem; padding:2rem 1.75rem 2.5rem; box-shadow:0 26px 52px rgba(0,0,0,.22); display:flex; flex-direction:column; gap:1.5rem; align-items:center; text-align:center;}
.games-mascot{display:flex; align-items:center; gap:1rem;}
.games-mascot-avatar{width:96px; height:96px; border-radius:999px; background:#ffffff; display:grid; place-items:center; box-shadow:0 20px 40px rgba(0,0,0,.18); border:4px solid #234c38; overflow:hidden;}
.games-mascot-avatar img{width:88px; height:auto;}
.games-speech{position:relative; font-weight:800; font-size:1rem; color:#234c38; background:#ffffff; border-radius:1.1rem; padding:.55rem 1.1rem; box-shadow:0 14px 28px rgba(0,0,0,.18); border:2px solid rgba(0,0,0,.18);}
.games-mascot .games-speech:after{content:""; position:absolute; left:-14px; top:50%; transform:translateY(-50%); width:0; height:0; border-top:10px solid transparent; border-bottom:10px solid transparent; border-right:14px solid #ffffff;}
.games-title{font-family:Montserrat, Inter, system-ui, sans-serif; font-size:1.75rem; font-weight:800; color:#234c38; margin:0;}
.games-greeting{margin:0; font-size:1.05rem; font-weight:600; color:#1f3328;}
.games-hint{margin:0; font-size:.9rem; color:#3a5144; min-height:1.2rem;}
.games-list{width:100%; list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:1rem;}
.game-entry{width:100%; border-radius:1.5rem; padding:.9rem 1.1rem; display:flex; align-items:center; gap:.85rem; background:#ffffff; box-shadow:0 14px 28px rgba(0,0,0,.16);}
.game-entry-primary{background:linear-gradient(135deg, rgba(255,255,255,1) 0%, rgba(227,255,236,.92) 100%); border:2px solid #a5d9b3; padding:1rem 1.2rem;}
.game-entry-link{display:flex; align-items:center; gap:.9rem; text-decoration:none; width:100%; color:#234c38; font-weight:800; font-size:1.05rem;}
.game-entry-link[aria-disabled="true"]{cursor:not-allowed; opacity:.6;}
.game-entry-icon{width:52px; height:52px; object-fit:contain;}
.game-entry-number{font-family:Montserrat, Inter, system-ui, sans-serif; font-size:1.1rem; font-weight:800; color:#234c38;}
.game-entry-body{display:flex; justify-content:space-between; align-items:center; gap:1rem; width:100%;}
.game-entry-title{font-weight:700; color:#1f3328; font-size:1rem;}
.game-entry-tag{font-size:.85rem; font-weight:700; color:#3a5144; background:#f1f5f4; border-radius:999px; padding:.35rem .85rem;}
.game-entry-disabled{background:rgba(255,255,255,.92); border:2px solid rgba(35,76,56,.12);}
.games-actions{display:flex; gap:1rem; justify-content:center; width:100%; margin-top:.5rem;}
.games-link{font-weight:700; color:#234c38; text-decoration:underline; background:transparent; border:none; cursor:pointer; font-size:.95rem;}
.games-link-button{padding:0;}

@media (min-width:520px){
  .games-wrapper{max-width:460px; padding:2.5rem 2.5rem 3rem;}
  .games-mascot-avatar{width:110px; height:110px;}
  .game-entry-icon{width:60px; height:60px;}
}

/* Onde está o brinquedo - cena de sala */
.game-room-screen{position:relative; min-height:100svh; min-height:100vh; padding:0.35rem 0.75rem 1rem; display:flex; justify-content:center; align-items:center;}
.game-room-wrapper{position:relative; width:100%; max-width:420px; padding:2.25rem 0.75rem 0; display:flex; flex-direction:column; gap:1.15rem; background:transparent; box-shadow:none; border-radius:0;}
.game-room-header{display:flex; justify-content:center; align-items:center; gap:1rem; margin-top:-0.25rem;}
.game-room-mascot{display:flex; align-items:center; gap:0.85rem;}
.game-room-avatar{width:108px; height:108px; border-radius:999px; background:#ffffff; display:grid; place-items:center; box-shadow:0 18px 36px rgba(0,0,0,.18); border:3px solid #234c38; overflow:visible;}
.game-room-avatar img{width:104px; height:auto;}
.game-room-speech{position:relative; max-width:240px; font-size:.9rem; font-weight:600; background:#ffffff; border:3px solid #111111; border-radius:18px; box-shadow:none; padding:.55rem .9rem;}
.game-room-speech::after{content:""; position:absolute; left:18%; bottom:-11px; border-width:10px 11px 0 11px; border-style:solid; border-color:#111111 transparent transparent transparent;}
.game-room-menu{position:absolute; top:-0.35rem; right:0.35rem; width:46px; height:46px; border-radius:999px; border:2px solid #ffffff; background:#234c38; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:5px; padding:0; cursor:pointer; box-shadow:0 14px 28px rgba(0,0,0,.3); z-index:6;} 
.game-room-menu span{width:18px; height:2px; border-radius:999px; background:#ffffff; display:block;}
.game-room-body{position:relative; border-radius:0; overflow:visible; background:transparent; min-height:340px; display:flex; flex-direction:column; justify-content:flex-end;}
.game-room-stage{position:relative; width:100%; flex:1; min-height:340px; display:flex; align-items:flex-end; justify-content:center; padding:0 1rem 0; cursor:pointer;}
.game-room-toy{position:absolute; inset-inline:0; bottom:-1.1rem; margin-inline:auto; width:110px; height:auto; z-index:2;}
.game-room-boxes{position:absolute; inset-inline:0; bottom:-1.1rem; display:flex; justify-content:center; gap:1rem; z-index:3;}
.game-room-box{background:transparent; border:none; padding:0; cursor:pointer; transition:transform .15s ease, box-shadow .15s ease;}
.game-room-box img{width:120px; height:auto; display:block;}
.game-room-box:hover{transform:translateY(-3px);}
.game-box-correct{filter:drop-shadow(0 0 8px rgba(76,175,80,.6));}
.game-room-box{transition:transform .15s ease, opacity .3s ease;}
.box-hidden{opacity:0; pointer-events:none; transform:scale(0.8);}
.game-room-hand{position:absolute; inset-inline:0; bottom:-0.9rem; margin-inline:auto; width:80px; height:80px; display:none; pointer-events:none; z-index:4;}
.game-celebration{position:absolute; inset:0; pointer-events:none; z-index:10; overflow:hidden;}
.celebration-particle{position:absolute; top:-50px; animation:celebration-fall 2s ease-out forwards;}
@keyframes celebration-fall{
  0%{transform:translateY(0) rotate(0deg) scale(0); opacity:1;}
  20%{transform:translateY(20vh) rotate(180deg) scale(1); opacity:1;}
  100%{transform:translateY(100vh) rotate(720deg) scale(0.5); opacity:0;}
}

/* Modal de fim de jogo */
.game-end-modal{position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; padding:1rem; z-index:100;}
.game-end-content{background:white; border-radius:1.5rem; padding:1.5rem; max-width:400px; width:100%; max-height:90vh; overflow-y:auto; box-shadow:0 24px 48px rgba(0,0,0,.25);}
.game-end-header{display:flex; align-items:center; gap:1rem; margin-bottom:1rem;}
.game-end-avatar{width:64px; height:64px; border-radius:999px; border:3px solid #234c38;}
.game-end-header h2{font-family:Montserrat, Inter, system-ui, sans-serif; font-size:1.5rem; font-weight:800; color:#234c38; margin:0;}
.game-end-content > p{font-size:1rem; color:#333; margin-bottom:1rem;}
.game-end-tip{background:#f0f7f4; border-radius:1rem; padding:1rem; margin-bottom:1.25rem; border-left:4px solid #234c38;}
.game-end-tip h3{font-size:.95rem; font-weight:700; color:#234c38; margin:0 0 .5rem;}
.game-end-tip p{font-size:.85rem; color:#444; line-height:1.5; margin:0;}
.game-end-actions{display:flex; flex-direction:column; gap:.75rem;}
.game-end-actions .btn{width:100%; text-align:center;}

@media (min-width:520px){
  .game-room-wrapper{max-width:460px; padding:1.5rem 1rem 0;}
  .game-room-avatar{width:122px; height:122px;}
  .game-room-avatar img{width:116px;}
  .game-room-toy{width:140px; bottom:-0.1rem;}
  .game-room-box img{width:150px;}
}

/* Register (Cadastro) redesign */
.bg-register{background:linear-gradient(180deg,#fde9a5 0%, #f9d97d 100%); min-height:100svh; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:2rem 1.5rem;}
.register-wrap{width:100%; display:flex; justify-content:center;}
.register-inner{width:100%; max-width:420px; display:flex; flex-direction:column; gap:1.75rem; align-items:stretch;}
.register-header{text-align:center; color:#3a2f16;}
.register-title{font-family:Montserrat, Inter, system-ui, sans-serif; font-size:1.75rem; font-weight:800; letter-spacing:.04em; margin:0; text-transform:uppercase;}
.register-subtitle{margin-top:.35rem; font-weight:600; font-size:1rem;}
.register-card{background:white; border-radius:2.5rem; box-shadow:0 30px 60px rgba(0,0,0,.16); padding:1.75rem 1.5rem 2rem; display:flex; flex-direction:column; gap:1.25rem;}
.register-card-progress{display:flex; align-items:center; gap:1rem;}
.register-step-indicator{font-weight:700; color:#3a2f16; font-size:1rem; min-width:3.5rem;}
.register-card .progress{height:10px; background:#f4f0dd; flex:1; border-radius:999px; overflow:hidden;}
.register-card .bar{background:linear-gradient(90deg,#f6a13f,#234c38);}
.register-fields{display:flex; flex-direction:column; gap:1rem;}
.register-fields-grid{display:flex; flex-direction:column; gap:1rem;}
.register-card .label{color:#52462a; font-weight:700; font-size:.95rem;}
.register-card .input,
.register-card .select{background:#ffe7a4; border:none; border-radius:1.2rem; padding:0.9rem 1.1rem; font-size:1rem; box-shadow:inset 0 2px 4px rgba(0,0,0,.08);}
.register-card .input:focus,
.register-card .select:focus{outline:3px solid rgba(35,76,56,.35);}
.register-card .input:-webkit-autofill,
.register-card .input:-webkit-autofill:hover,
.register-card .input:-webkit-autofill:focus,
.register-card .input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 1000px #ffe7a4 inset !important; box-shadow:0 0 0 1000px #ffe7a4 inset !important; -webkit-text-fill-color:#1b2b21;}
.register-card .input:autofill{box-shadow:0 0 0 1000px #ffe7a4 inset; -webkit-text-fill-color:#1b2b21;}
.register-card .input.has-error,
.register-card .select.has-error{border:2px solid #e63946; outline:none; box-shadow:inset 0 3px 6px rgba(230,57,70,.18);}
.register-card .input-hint{color:#b02035; font-size:.8rem; font-weight:600; margin-top:.35rem;}
.register-password-wrapper{position:relative;}
.register-password-toggle{position:absolute; inset-inline-end:0.65rem; top:50%; transform:translateY(-50%); background:transparent; border:none; cursor:pointer; font-size:1.35rem; line-height:1; padding:.2rem; display:flex; align-items:center; justify-content:center;}
.register-password-toggle:focus-visible{outline:2px solid rgba(35,76,56,.45); border-radius:50%;}
.register-footer{display:flex; flex-direction:column; gap:1.5rem; align-items:center;}
.register-mascot-area{display:flex; align-items:flex-start; gap:1rem;}
.register-mascot{width:96px; height:auto;}
.register-speech{max-width:210px; font-size:.95rem; font-weight:600; background:white;}
.register-actions{display:flex; gap:1rem; width:100%; justify-content:center;}
.register-btn{min-width:140px; border:none; border-radius:999px; padding:.85rem 1.6rem; font-weight:700; font-size:1rem; cursor:pointer; transition:.2s transform,.2s box-shadow,.2s filter;}
.register-btn:focus-visible{outline:3px solid rgba(35,76,56,.45); outline-offset:2px;}
.register-btn:hover:not(:disabled){transform:scale(1.03);}
.register-btn-ghost{background:white; color:#234c38; box-shadow:0 12px 24px rgba(0,0,0,.14);}
.register-btn-primary{background:#234c38; color:white; box-shadow:0 16px 32px rgba(0,0,0,.22);}
.register-btn:disabled{opacity:.6; cursor:not-allowed;}

@media (min-width:480px){
  .register-inner{max-width:460px;}
  .register-card{padding:2rem 2.25rem 2.5rem;}
  .register-mascot{width:110px;}
  .register-speech{max-width:240px;}
}

/* Speech bubble look for inline hints */
.speech{position:relative; background:white; border-radius:1rem; padding:.5rem .75rem; box-shadow:0 10px 20px rgba(0,0,0,.08); display:inline-block}
.speech:after{content:""; position:absolute; left:.75rem; bottom:-8px; width:0; height:0; border-left:8px solid transparent; border-right:8px solid transparent; border-top:8px solid white}
.register-mascot-area .register-speech:after{content:""; position:absolute; left:-18px; top:50%; transform:translateY(-50%); width:0; height:0; border-top:10px solid transparent; border-bottom:10px solid transparent; border-left:0; border-right:18px solid white;}

/* Hero container mimic */
.hero{min-height:70vh; display:flex; flex-direction:column; justify-content:flex-end; gap:1rem}

/* Backgrounds from provided assets */
.bg-onboarding{background-image:url('https://storage.googleapis.com/flutterflow-io-6f20.appspot.com/projects/raizes-m-v-p-i9jdtd/assets/l8o6ilu1qm8g/tela_fundo.png'); background-size:cover; background-position:center; background-repeat:no-repeat}
.bg-room{background-image:url('https://storage.googleapis.com/flutterflow-io-6f20.appspot.com/projects/raizes-m-v-p-i9jdtd/assets/8sgpf2p40cxs/tela_fundo_atividade_1.png'); background-size:cover; background-position:center; background-repeat:no-repeat}

/* Games list cards */
.game-card{background:white; border-radius:1rem; padding:1rem; display:flex; align-items:center; justify-content:space-between; gap:.75rem; box-shadow:0 10px 20px rgba(0,0,0,.06)}
.game-card .num{font-family:Poppins, Inter, sans-serif; font-weight:800; font-size:1.25rem; color:#2c3d33}
.speech-inline{background:white; border-radius:1rem; padding:.5rem .75rem; box-shadow:0 10px 20px rgba(0,0,0,.08); display:inline-block}

/* Splash specifics */
.splash-wrap{position:relative; min-height:100svh; min-height:100vh}
.splash-don{position:absolute; inset-inline:0; bottom:20%; display:grid; place-items:center}
.splash-don img{max-height:60svh; max-height:60vh; height:auto; width:auto}
.splash-bottom{position:absolute; left:0; right:0; bottom:0; padding:1.25rem; background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.06) 30%, rgba(0,0,0,.12) 70%, rgba(0,0,0,.16) 100%)}
.splash-title{font-family:Poppins, Inter, sans-serif; font-weight:700; font-size:2rem; color:#ffffff; text-shadow:0 2px 6px rgba(0,0,0,.25)}
.splash-bottom .progress{background:rgba(255,255,255,.35)}
.splash-bottom .progress > .bar{background:linear-gradient(90deg, #ffa43b, #ffffff)}

/* Welcome specifics */
.welcome-wrap{position:relative; min-height:100svh; min-height:100vh}
.welcome-top{padding:3rem 1.5rem 0; text-align:center}
.welcome-top .badge{display:inline-block; background:white; border-radius:clamp(60px, 20vw, 120px); box-shadow:0 28px 56px rgba(0,0,0,.16); width:72vw; min-height:22vw; padding:1.5rem 2rem; max-width:520px}
.welcome-top .pre{font-family:Montserrat, Inter, system-ui, sans-serif; font-size:20px; font-weight:700; letter-spacing:.06em; color:#2b3b31; margin-bottom:.5rem; text-shadow:0 2px 4px rgba(0,0,0,.12)}
.welcome-top .title{font-family:Montserrat, Inter, system-ui, sans-serif; font-weight:800; font-size:48px; line-height:1.1; color:#234c38}
.welcome-top .sub{font-family:Montserrat, Inter, system-ui, sans-serif; font-size:20px; letter-spacing:.08em; font-weight:700; color:#2d4a3b}
.welcome-logo{width:100%; max-width:220px; height:auto; display:block; margin:0 auto}
.badge-text{font-family:Montserrat, Inter, system-ui, sans-serif; font-weight:800; font-size:clamp(1.1rem, 4vw, 1.5rem); color:#234c38; margin-top:.5rem; text-align:center}
/* Bottom section: two columns with viewport padding (8.45% of vw) */
.welcome-bottom{position:absolute; left:0; right:0; bottom:0; display:grid; grid-template-columns: 45% 55%; align-items:end; gap:3vw; padding:8.45vw; padding-top:4vw}
.welcome-don{align-self:end}
.welcome-don img{display:block; width:100%; height:auto; max-width:clamp(240px, 42vw, 360px)}
.welcome-right{display:flex; flex-direction:column; align-items:flex-start; gap:3vw; justify-content:flex-end}
.welcome-bubble{width:100%; display:flex; justify-content:flex-start}
.welcome-bubble .speech{max-width:min(60vw, 320px)}
/* Left pointer tail for welcome bubble */
.welcome-bubble .speech:after{left:-10px; top:50%; transform:translateY(-50%); border-top:10px solid transparent; border-bottom:10px solid transparent; border-left:0; border-right:10px solid white}
.cta-area{width:100%; display:flex; flex-direction:column; align-items:flex-start; gap:.75rem}
.cta-area .btn{width:min(100%, 260px); border-radius:999px; box-shadow:0 14px 28px rgba(0,0,0,.18); transform-origin:center; will-change:transform; animation: cta-pulse .6s ease-in-out infinite alternate}
@keyframes cta-pulse{from{transform:scale(.95)} to{transform:scale(1.025)}}
.cta-area .cta-link{color:#ffffff; font-weight:700; opacity:.9; text-decoration:none}

.bgm-toggle{position:fixed; top:clamp(0.75rem, 4vw, 1.35rem); right:clamp(0.75rem, 4vw, 1.35rem); width:52px; height:52px; border-radius:999px; display:flex; align-items:center; justify-content:center; background:rgba(35,76,56,.92); color:white; border:2px solid rgba(255,255,255,.45); box-shadow:0 18px 36px rgba(0,0,0,.22); transition:.2s transform,.2s box-shadow,.2s background,.2s color; z-index:120; -webkit-backdrop-filter:blur(6px); backdrop-filter:blur(6px);}
.bgm-toggle:hover{transform:scale(1.05)}
.bgm-toggle:focus-visible{outline:3px solid rgba(255,255,255,.8); outline-offset:3px}
.bgm-toggle[aria-pressed="false"]{background:rgba(255,255,255,.86); color:var(--color-primary); border-color:rgba(35,76,56,.35)}
.bgm-toggle .icon{font-size:1.45rem; line-height:1; display:inline-flex; align-items:center; justify-content:center}

@media (min-width:768px){
  .brand-badge .brand-title{font-size:2rem}
  .form-panel{padding:1.5rem}
}

/* Bottom Navbar */
.bottom-navbar{position:fixed; bottom:0; left:0; right:0; height:64px; background:white; display:flex; justify-content:space-around; align-items:center; box-shadow:0 -4px 20px rgba(0,0,0,.1); z-index:100; padding-bottom:env(safe-area-inset-bottom);}
.nav-item{display:flex; flex-direction:column; align-items:center; gap:4px; text-decoration:none; color:#666; font-size:.7rem; font-weight:600; padding:8px 16px; transition:color .2s;}
.nav-item.active{color:#234c38;}
.nav-item .nav-icon{width:24px; height:24px; stroke-width:2;}
.nav-item.active .nav-icon{stroke:#234c38;}

/* Ajustar padding inferior das páginas para navbar */
.bg-app{background:linear-gradient(180deg,#f8f9fa 0%,#e9ecef 100%); min-height:100vh; padding-bottom:80px;}

/* Children Page */
.children-screen{padding:1rem; padding-top:2rem;}
.children-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem;}
.children-header h1{font-size:1.5rem; font-weight:800; color:#234c38; margin:0;}
.btn-add-child{width:44px; height:44px; border-radius:999px; background:#234c38; border:none; display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:0 4px 12px rgba(35,76,56,.3);}
.btn-add-child svg{width:24px; height:24px; stroke:white;}
.children-list{display:flex; flex-direction:column; gap:1rem;}
.child-card{background:white; border-radius:1rem; padding:1rem; display:flex; align-items:center; gap:1rem; box-shadow:0 4px 12px rgba(0,0,0,.08); cursor:pointer; transition:transform .2s;}
.child-card:hover{transform:translateY(-2px);}
.child-avatar{width:56px; height:56px; border-radius:999px; background:#e8f5e9; display:flex; align-items:center; justify-content:center;}
.child-avatar svg{width:32px; height:32px; stroke:#234c38;}
.child-info{flex:1;}
.child-info h3{margin:0; font-size:1.1rem; font-weight:700; color:#333;}
.child-age{margin:0; font-size:.85rem; color:#666;}
.btn-select-child{padding:.5rem 1rem; border-radius:999px; border:2px solid #234c38; background:transparent; color:#234c38; font-weight:600; font-size:.8rem; cursor:pointer; transition:all .2s;}
.btn-select-child.active{background:#234c38; color:white;}
.empty-state{text-align:center; padding:3rem 1rem; color:#666;}
.empty-icon{font-size:3rem; margin-bottom:1rem;}
.text-muted{color:#999; font-size:.85rem;}
.error-state{text-align:center; padding:2rem; color:#d32f2f;}

/* Modal */
.modal-overlay{position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center; padding:1rem; z-index:200;}
.modal-content{background:white; border-radius:1.5rem; padding:1.5rem; width:100%; max-width:400px; max-height:90vh; overflow-y:auto;}
.modal-large{max-width:500px;}
.modal-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;}
.modal-header h2{margin:0; font-size:1.25rem; font-weight:700; color:#234c38;}
.btn-close{width:32px; height:32px; border-radius:999px; border:none; background:#f0f0f0; font-size:1.25rem; cursor:pointer; display:flex; align-items:center; justify-content:center;}
.modal-content h2{margin:0 0 1rem; font-size:1.25rem; font-weight:700; color:#234c38;}
.form-group{margin-bottom:1rem;}
.form-group label{display:block; margin-bottom:.5rem; font-weight:600; color:#333; font-size:.9rem;}
.form-group input{width:100%; padding:.75rem 1rem; border:2px solid #e0e0e0; border-radius:.75rem; font-size:1rem; transition:border-color .2s;}
.form-group input:focus{outline:none; border-color:#234c38;}
.modal-actions{display:flex; gap:.75rem; margin-top:1.5rem;}
.modal-actions .btn{flex:1;}

/* Stats */
.stat-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:1rem; margin-bottom:1.5rem;}
.stat-card{background:#f8f9fa; border-radius:1rem; padding:1rem; text-align:center;}
.stat-value{font-size:1.5rem; font-weight:800; color:#234c38;}
.stat-label{font-size:.75rem; color:#666; margin-top:.25rem;}

/* Weekly Chart */
.weekly-progress h3{font-size:1rem; font-weight:700; color:#333; margin:0 0 1rem;}
.chart-bars{display:flex; justify-content:space-between; align-items:flex-end; height:120px; gap:8px;}
.chart-bar-wrap{flex:1; display:flex; flex-direction:column; align-items:center; gap:4px;}
.chart-bar{width:100%; background:#234c38; border-radius:4px 4px 0 0; min-height:4px; position:relative; transition:height .3s;}
.chart-value{position:absolute; top:-20px; left:50%; transform:translateX(-50%); font-size:.7rem; font-weight:600; color:#234c38;}
.chart-summary{display:flex; justify-content:space-around; margin-bottom:1rem; padding:.75rem; background:#e8f5e9; border-radius:.75rem;}
.chart-summary-item{text-align:center;}
.chart-summary-value{display:block; font-size:1.5rem; font-weight:800; color:#234c38;}
.chart-summary-label{font-size:.7rem; color:#666;}
.chart-label-stack{display:flex; flex-direction:column; align-items:center; gap:2px;}
.chart-date{font-size:.6rem; color:#999;}
.chart-day{font-size:.65rem; color:#666;}
.chart-label-stack.today .chart-date{color:#234c38; font-weight:600;}
.chart-label-stack.today .chart-day{color:#234c38; font-weight:700;}
.chart-bar-wrap.has-activity .chart-bar{background:linear-gradient(180deg, #4caf50 0%, #234c38 100%);}
.chart-legend{text-align:center; font-size:.75rem; color:#999; margin-top:.75rem;}

/* Settings Page */
.settings-screen{padding:1rem; padding-top:2rem;}
.settings-header{margin-bottom:1.5rem;}
.settings-header h1{font-size:1.5rem; font-weight:800; color:#234c38; margin:0;}
.settings-list{display:flex; flex-direction:column; gap:1.5rem;}
.settings-section h2{font-size:.85rem; font-weight:700; color:#999; text-transform:uppercase; letter-spacing:.05em; margin:0 0 .75rem; padding-left:.5rem;}
.setting-item{background:white; border-radius:1rem; padding:1rem; display:flex; align-items:center; justify-content:space-between; gap:1rem;}
.setting-item.clickable{cursor:pointer; transition:background .2s;}
.setting-item.clickable:hover{background:#f8f9fa;}
.setting-item.danger .setting-label{color:#d32f2f;}
.setting-info{flex:1;}
.setting-label{font-weight:600; color:#333; font-size:.95rem;}
.setting-desc{font-size:.8rem; color:#666; margin-top:.15rem;}
.setting-arrow{width:20px; height:20px; stroke:#999;}

/* Toggle Switch */
.toggle-switch{position:relative; width:52px; height:28px; display:inline-block;}
.toggle-switch input{opacity:0; width:0; height:0;}
.toggle-slider{position:absolute; cursor:pointer; inset:0; background:#ccc; border-radius:28px; transition:.3s;}
.toggle-slider:before{position:absolute; content:""; height:22px; width:22px; left:3px; bottom:3px; background:white; border-radius:50%; transition:.3s;}
.toggle-switch input:checked + .toggle-slider{background:#234c38;}
.toggle-switch input:checked + .toggle-slider:before{transform:translateX(24px);}

/* Progress Screen Styles */
.progress-screen{padding:1rem; padding-top:2rem; padding-bottom:calc(80px + 2rem); min-height:100vh; display:flex; flex-direction:column;}
.progress-header{display:flex; align-items:center; justify-content:space-between; margin-bottom:1.5rem;}
.progress-content{display:flex; flex-direction:column; gap:1.5rem; padding:1.5rem;}
.progress-metrics{display:grid; grid-template-columns:repeat(2, 1fr); gap:1rem;}
.progress-metric-card{background:var(--card); border-radius:1rem; padding:1rem; box-shadow:0 4px 12px rgba(0,0,0,.08);}
.progress-metric-card .h3{font-size:0.95rem; font-weight:600; color:var(--text-secondary); margin-bottom:0.5rem;}
.progress-metric-card .text-2xl{font-size:1.75rem; font-weight:800; color:var(--color-primary);}
.progress-metric-full{grid-column:1 / -1;}
.progress-chart-container{margin-top:1rem; padding-top:1rem; padding-bottom:1rem;}

/* Otimizações para mobile - reduzir espaçamentos verticais */
@media (max-width: 640px) {
  /* Login screen */
  .login-screen{padding:1.5rem 1rem;}
  .login-content{gap:1rem;}
  .login-card{padding:1.5rem 1.25rem 1.75rem; gap:1.25rem;}
  .login-form{gap:0.85rem;}
  .login-field{gap:0.35rem;}
  .login-footer{gap:1rem;}
  .login-submit{margin-top:0.25rem; padding:0.85rem 1rem;}
  
  /* Games screen */
  .games-wrapper{padding:1.5rem 1.25rem 2rem; gap:1rem;}
  .games-mascot{gap:0.75rem;}
  .games-speech{padding:0.45rem 0.9rem; font-size:0.9rem;}
  .games-list{gap:0.75rem;}
  
  /* Welcome screen */
  .welcome-wrap{padding:1.5rem 1rem;}
  .welcome-top{gap:1rem; margin-bottom:1.5rem;}
  .welcome-bottom{gap:1.25rem;}
  .welcome-bubble{padding:0.65rem 1rem;}
  .cta-area{gap:0.75rem;}
  
  /* Register wizard */
  .wizard-wrap{padding:1.5rem 1rem;}
  .wizard-card{padding:1.5rem 1.25rem; gap:1rem;}
  .wizard-header{gap:0.5rem; margin-bottom:0.75rem;}
  .wizard-body{gap:0.85rem;}
  .wizard-field{gap:0.35rem;}
  .wizard-footer{margin-top:1rem; gap:0.75rem;}
  
  /* Progress screen */
  main.space-y-6{gap:1rem;}
  .card{padding:1rem;}
  .progress-screen{padding:1rem; padding-top:1.5rem; padding-bottom:calc(80px + 1.5rem);}
  .progress-content{padding:1.25rem; gap:1.25rem;}
  .progress-metrics{gap:0.75rem;}
  .progress-metric-card{padding:0.85rem;}
  .progress-metric-card .h3{font-size:0.85rem; margin-bottom:0.4rem;}
  .progress-metric-card .text-2xl{font-size:1.5rem;}
  .progress-chart-container{margin-top:0.75rem; padding-top:0.75rem; padding-bottom:0.75rem;}
  
  /* Buttons e inputs */
  .btn{padding:0.65rem 0.9rem;}
  .input, .select{padding:0.65rem 0.9rem;}
  
  /* Headings */
  .h1{font-size:1.75rem;}
  .h2{font-size:1.35rem;}
  .h3{font-size:1rem;}
  
  /* Splash screen */
  .splash-wrap{padding:1.5rem 1rem;}
  .splash-bottom{padding:1.25rem;}
}
